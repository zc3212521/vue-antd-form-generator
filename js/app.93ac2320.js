!function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,r){a=n[e]=[t,r]});t.push(a[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"6b13aeec"}[e]+".js"}(e);var l=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(c);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,a[1](l)}n[e]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:s})},12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},1180:function(e,t,a){"use strict";var r=a("74f9");a.n(r).a},"1a8e":function(e,t,a){"use strict";var r=a("a483");a.n(r).a},"1ef9":function(e,t,a){"use strict";var r=a("3023");a.n(r).a},3023:function(e,t,a){},4520:function(e,t,a){"use strict";var r=a("a4ce");a.n(r).a},5249:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t),a("d9a3"),a("c9db"),a("de3e"),a("618d");var r=a("0261"),n={name:"HFormHeader"},i=a("623f"),o=Object(i.a)(n,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("header")])},[],!1,null,"0fe1c26a",null).exports,s=a("bf18"),l=(a("4045"),a("8c13")),c=a.n(l),u={name:"control",props:{data:{type:Object,required:!0}}},d=(a("9de8"),Object(i.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"control-wrap"},[a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{type:e.data.icon}}),e._v(" "+e._s(e.data.name)+" ")],1)},[],!1,null,"7ab68535",null)).exports,f=(a("c354"),a("ff23")),p=[{name:"form",title:"表单控件"},{name:"layout",title:"布局控件"}],m=[{name:"输入框",type:"input",category:p[0],icon:"plus",attr:{id:"",label:"输入框",placeholder:"请输入文字",initialValue:"",rules:[],layout:4}},{name:"数字输入框",type:"inputNumber",category:p[0],icon:"plus",attr:{id:"",label:"数字输入框",placeholder:"请输入数字",initialValue:"",rules:[],layout:4}},{name:"单选框",type:"radio",category:p[0],icon:"plus",attr:{id:"",label:"单选框",initialValue:"",rules:[],layout:4,options:[{label:"A",value:0},{label:"B",value:1}]}},{name:"多选框",type:"checkbox",category:p[0],icon:"plus",attr:{id:"",label:"多选框",initialValue:[],rules:[],layout:4,options:[{label:"A",value:0},{label:"B",value:1}]}},{name:"选择器",type:"select",category:p[0],icon:"plus",attr:{id:"",label:"选择器",placeholder:"请选择",initialValue:"",rules:[],layout:4,options:[{label:"A",value:0},{label:"B",value:1}]}},{name:"栅格",type:"grid",category:p[1],icon:"plus",attr:{id:"",count:2,options:[{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"6",value:6}]},columns:[{span:12,children:[]},{span:12,children:[]}]}],b={formItem:["input","inputNumber","select","radio","checkbox","grid"]};function h(e){return function(e){for(var t=e+"-"+Object(f.b)(),a=null,r=0;r<m.length;r++)m[r].type===e&&((a=Object(f.a)(m[r])).key=a.attr.id=t,delete a.category,delete a.icon);return a}(e.type)}function v(e,t){for(var a=[],r=0;r<e.length;r++){if(e[r].key===t){a=[r];break}if("grid"===e[r].type)for(var n=0;n<e[r].columns.length;n++)for(var i=0;i<e[r].columns[n].children.length;i++)if(e[r].columns[n].children[i].key===t){a=[r,n,i];break}}return a}function g(e){var t=function(e){var t=[];return e.forEach(function(e,a){b.formItem.includes(e.type)&&t.push({type:"formItem",content:function(e){var t={};if("grid"===e.type)e.columns.forEach(function(e,a){var r=e.children[0],n=y(r),i=n.attr,o=n.contentKey;t[o]=i});else{var a=y(e),r=a.attr,n=a.contentKey;t[n]=r}return t}(e)})}),t}(e);return{formDesc:{rows:t,footer:{layout:{labelCol:{span:4},wrapperCol:{span:14,offset:2}},buttons:[{text:"确定",type:"primary",size:"default",disabled:!1,ifValidateForm:!0},{text:"取消",type:"default",size:"default",disabled:!1,ifValidateForm:!1},{text:"下一步",type:"default",size:"default",disabled:!1,ifValidateForm:!1}]},ui:{style:{padding:"10px"},gutter:32}}}}function y(e){var t=e.attr,a=t.id;return delete t.id,t.type=e.type,"grid"===t.type?(t.grid={span:e.span,offset:0},t.layout={labelCol:{span:8},wrapperCol:{span:16}}):(t.grid={span:12,offset:0},t.layout={labelCol:{span:8},wrapperCol:{span:16}}),{attr:t,contentKey:a}}a("af82"),a("a677"),a("c1b0"),a("79dd"),a("3547"),a("9a14");var j={name:"ControlList",components:{draggable:c.a,control:d},data:function(){return{controlList:function(){for(var e=[],t=0;t<p.length;t++){for(var a=Object(f.a)(p[t]),r=[],n=0;n<m.length;n++)p[t].name===m[n].category.name&&r.push(m[n]);a.list=r,e.push(a)}return e}()}},methods:{cloneCB:function(e){return h(e)},moveCB:function(e,t){return!("grid"===e.draggedContext.element.type&&e.to.className.indexOf("grid-control-wrap")>=0)&&!(e.to.className.indexOf("grid-control-wrap")>=0&&e.to.children.length>0)&&void 0}}},_=(a("1180"),Object(i.a)(j,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.controlList,function(t,r){return a("div",{key:r.toString()},[a("h3",[e._v(e._s(t.title))]),a("draggable",{staticClass:"controls-list",attrs:{list:t.list,group:{name:"form",pull:"clone",put:!1},animation:0,clone:e.cloneCB,move:e.moveCB,sort:!1}},e._l(t.list,function(e,t){return a("control",{key:t.toString(),attrs:{data:e}})}),1)],1)}),0)},[],!1,null,"6ef67de4",null)).exports,O=a("2549"),x=(a("f4a0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"control-item-wrap"},["input"===e.data.type?a("input-control",{attrs:{data:e.data}}):e._e(),"inputNumber"===e.data.type?a("input-number-control",{attrs:{data:e.data}}):e._e(),"radio"===e.data.type?a("radio-control",{attrs:{data:e.data}}):e._e(),"select"===e.data.type?a("select-control",{attrs:{data:e.data}}):e._e(),"checkbox"===e.data.type?a("checkbox-control",{attrs:{data:e.data}}):e._e(),e.activeKey===e.data.key?a("delete-button",{attrs:{itemKey:e.data.key}}):e._e()],1)}),k=a("8876"),D={name:"DeleteButton",props:{itemKey:{type:String,required:!0}},computed:Object(k.c)({formData:function(e){return e.formDesigner.formData}}),methods:Object(O.a)({deleteItem:function(){var e=v(this.formData,this.itemKey),t=Object(f.a)(this.formData);if(1===e.length)t.splice(e[0],1);else{var a=t[e[0]].columns[e[1]].children;a.splice(e[2],1),t[e[0]].columns[e[1]].children=a}this.updateFormData(t)}},Object(k.b)({updateFormData:"setFormData"}))},w=(a("4520"),Object(i.a)(D,function(){var e=this,t=e.$createElement;return(e._self._c||t)("a-button",{staticClass:"delete-icon",attrs:{size:"small",shape:"circle",icon:"delete"},on:{click:function(t){return t.stopPropagation(),e.deleteItem(t)}}})},[],!1,null,"60c85ff0",null)).exports,C={name:"InputControl",props:{data:{type:Object,required:!0}},computed:Object(O.a)({attr:function(){return this.data.attr}},Object(k.c)({formData:function(e){return e.formDesigner.formData}}))},S=Object(i.a)(C,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.attr.label,"label-col":{span:e.attr.layout},"wrapper-col":{span:24===e.attr.layout?24:24-e.attr.layout},required:e.attr.rules.length>0}},[a("a-input",{attrs:{value:e.attr.initialValue,placeholder:e.attr.placeholder}})],1)},[],!1,null,"606491a1",null).exports,E={name:"InputNumberControl",props:{data:{type:Object,required:!0}},computed:Object(O.a)({attr:function(){return this.data.attr}},Object(k.c)({formData:function(e){return e.formDesigner.formData}}))},M=Object(i.a)(E,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.attr.label,"label-col":{span:e.attr.layout},"wrapper-col":{span:24===e.attr.layout?24:24-e.attr.layout},required:e.attr.rules.length>0}},[a("a-input-number",{attrs:{value:e.attr.initialValue,placeholder:e.attr.placeholder}})],1)},[],!1,null,"fd593d0e",null).exports,A={name:"RadioControl",props:{data:{type:Object,required:!0}},computed:Object(O.a)({attr:function(){return this.data.attr}},Object(k.c)({formData:function(e){return e.formDesigner.formData}}))},q=Object(i.a)(A,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.attr.label,"label-col":{span:e.attr.layout},"wrapper-col":{span:24===e.attr.layout?24:24-e.attr.layout},required:e.attr.rules.length>0}},[a("a-radio-group",{attrs:{options:e.attr.options,value:e.attr.initialValue}})],1)},[],!1,null,"2b9cb9da",null).exports,R={name:"SelectControl",props:{data:{type:Object,required:!0}},computed:Object(O.a)({attr:function(){return this.data.attr}},Object(k.c)({formData:function(e){return e.formDesigner.formData}}))},$=Object(i.a)(R,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.attr.label,"label-col":{span:e.attr.layout},"wrapper-col":{span:24===e.attr.layout?24:24-e.attr.layout},required:e.attr.rules.length>0}},[a("a-select",{attrs:{options:e.attr.options,value:e.attr.initialValue,placeholder:e.attr.placeholder}})],1)},[],!1,null,"694107ff",null).exports,K={name:"CheckboxControl",props:{data:{type:Object,required:!0}},computed:Object(O.a)({attr:function(){return this.data.attr}},Object(k.c)({formData:function(e){return e.formDesigner.formData}}))},V={name:"ControlItemView",components:{DeleteButton:w,InputControl:S,InputNumberControl:M,RadioControl:q,SelectControl:$,CheckboxControl:Object(i.a)(K,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.attr.label,"label-col":{span:e.attr.layout},"wrapper-col":{span:24===e.attr.layout?24:24-e.attr.layout},required:e.attr.rules.length>0}},[a("a-checkbox-group",{attrs:{options:e.attr.options,value:e.attr.initialValue}})],1)},[],!1,null,"11e7310a",null).exports},props:{data:{type:Object,required:!0}},computed:Object(O.a)({},Object(k.c)({formData:function(e){return e.formDesigner.formData},activeKey:function(e){return e.formDesigner.activeKey}})),methods:Object(O.a)({},Object(k.b)({updateFormData:"setFormData",updateActiveIndex:"setActiveIndex"}))},T=(a("d3ea"),Object(i.a)(V,x,[],!1,null,"50684273",null)).exports,F=(a("ff1b"),{name:"RowView",props:{index:{type:Number,required:!0},data:{type:Object,required:!0}},components:{draggable:c.a,ControlItemView:T,DeleteButton:w},data:function(){return{ifPut:!0}},computed:Object(O.a)({list:{get:function(){return this.formData[this.index].columns},set:function(e){var t=this.formData;t[this.index].columns=e,this.updateFormData(t)}}},Object(k.c)({formData:function(e){return e.formDesigner.formData},activeKey:function(e){return e.formDesigner.activeKey}})),methods:Object(O.a)({moveCB:function(){return!0},goUpdateKey:function(e){this.activeKey!==e&&this.updateActiveKey(e)}},Object(k.b)({updateFormData:"setFormData",updateActiveKey:"setActiveKey"}))}),P=(a("acb1"),Object(i.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row-wrap"},["grid"===e.data.type?a("div",{class:{"grid-wrap":!0,active:e.activeKey===e.data.key},on:{click:function(t){return e.updateActiveKey(e.data.key)}}},[a("a-row",{attrs:{gutter:24}},e._l(e.list,function(t,r){var n;return a("a-col",{key:r.toString(),staticClass:"grid-col",staticStyle:{"border-right":"0"},attrs:{span:t.span}},[a("draggable",{class:(n={"grid-control-wrap":!0},n["col-index-"+r]=!0,n),attrs:{list:t.children,group:{name:"form",pull:!0,put:!0},animation:200,ghostClass:"ghost",move:e.moveCB}},e._l(t.children,function(t,r){return a("control-item-view",{key:r.toString(),class:{"control-item":!0,active:e.activeKey===t.key},attrs:{data:t},nativeOn:{click:function(a){return a.stopPropagation(),e.updateActiveKey(t.key)}}})}),1)],1)}),1),e.activeKey===e.data.key?a("delete-button",{attrs:{itemKey:e.data.key}}):e._e()],1):a("div",[a("control-item-view",{class:{"control-item":!0,active:e.activeKey===e.data.key},attrs:{data:e.data},nativeOn:{click:function(t){return e.goUpdateKey(e.data.key)}}})],1)])},[],!1,null,"454fd7b8",null)).exports,I={name:"AddPatternRule",components:{FormRender:a("b76a").a},data:function(){return{form:this.$form.createForm(this),visible:!1,resultData:null,myPatterns:{uppercase:{regexp:/^[A-Z]+$/,message:"填入内容非大写字母！"},abc:{regexp:/abc/,message:"填入内容非大写字母！"}}}},computed:Object(k.c)({renderData:function(e){return e.formDesigner.renderData},formData:function(e){return e.formDesigner.formData},patterns:function(e){return e.formDesigner.patterns}}),watch:{visible:function(e){if(e){var t=Object(f.a)(this.formData);t=g(t),this.resultData=t}}},methods:Object(O.a)({onView:function(){},getClick:function(e){}},Object(k.b)({updateRenderData:"setRenderData"}))},N=Object(i.a)(I,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("a",{staticStyle:{"margin-right":"20px"},attrs:{href:"#"},on:{click:function(t){e.visible=!0}}},[e._v("预览")]),a("a-modal",{attrs:{title:"预览",visible:e.visible,width:750,destroyOnClose:""},on:{ok:e.onView,cancel:function(t){e.visible=!1}}},[a("form-render",{attrs:{"meta-data":e.resultData,"extend-pattern":e.myPatterns},on:{"click-btn":e.getClick}})],1)],1)},[],!1,null,"3349ab7d",null).exports,z={name:"GenerateJson",data:function(){return{visible:!1}},computed:{},mounted:function(){},methods:{}},B=Object(i.a)(z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("a",{staticStyle:{"margin-right":"20px"},attrs:{href:"#"},on:{click:function(t){e.visible=!0}}},[e._v("生成JSOP数据")]),a("a-modal",{attrs:{title:"预览",visible:e.visible},on:{ok:function(t){e.visible=!1},cancel:function(t){e.visible=!1}}},[e._v(" code view ")])],1)},[],!1,null,"85960310",null).exports,L={name:"FormView",components:{draggable:c.a,RowView:P,Preview:N,GenerateJson:B},data:function(){return{group:{name:"form",pull:!0,put:!0}}},computed:Object(O.a)({list:{get:function(){return this.formData},set:function(e){this.updateFormData(e)}}},Object(k.c)({formData:function(e){return e.formDesigner.formData}})),methods:Object(O.a)({move:function(e,t){return!("grid"===e.draggedContext.element.type&&e.to.className.indexOf("grid-control-wrap")>=0)},onChange:function(e){var t=Object.keys(e)[0];"added"===t&&this.updateActiveKey(e[t].element.key)},reset:function(){this.updateFormData([])}},Object(k.b)({updateFormData:"setFormData",updateActiveKey:"setActiveKey"}))},U=(a("1a8e"),Object(i.a)(L,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"action-header"},[a("preview"),a("generate-json"),a("a-popconfirm",{attrs:{title:"确定要清空列表吗？",okText:"清空",cancelText:"取消"},on:{confirm:e.reset}},[a("a",{attrs:{href:"#"}},[e._v("清空列表")])])],1),a("a-form",[a("draggable",{staticClass:"view-wrap",attrs:{group:{name:"form",pull:!0,put:!0},ghostClass:"ghost",animation:300,move:e.move},on:{change:e.onChange},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},e._l(e.list,function(e,t){return a("row-view",{key:e.key,staticClass:"row-view",attrs:{index:t,data:e}})}),1)],1)],1)},[],!1,null,"6e6a446e",null)).exports,W=(a("c1f42"),a("b3f9"),a("3e5e"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:"校验规则"}},[a("a-checkbox",{attrs:{checked:e.required},on:{change:e.onRequired}},[e._v(" 必填 ")]),a("br"),e._v(" 校验message："),a("a-input",{attrs:{value:e.requiredMsg,disabled:!e.required},on:{change:e.onRequiredMsg}}),a("br"),a("a-checkbox",{attrs:{checked:e.minSign},on:{change:e.onMin}},[e._v(" 最小值："+e._s(e.minSign?e.min+"":"无")+" "),a("a-popover",{attrs:{title:"最小值"}},[a("template",{slot:"content"},[a("a-input-number",{attrs:{min:0},model:{value:e.min,callback:function(t){e.min=t},expression:"min"}})],1),a("a",{attrs:{href:"#"}},[e._v("（设置最小值）")])],2)],1),a("br"),a("a-checkbox",{attrs:{checked:e.maxSign},on:{change:e.onMax}},[e._v(" 最大值："+e._s(e.maxSign?e.max+"":"无")+" "),a("a-popover",{attrs:{title:"最大值"}},[a("template",{slot:"content"},[a("a-input-number",{attrs:{min:0},model:{value:e.max,callback:function(t){e.max=t},expression:"max"}})],1),a("a",{attrs:{href:"#"}},[e._v("（设置最大值）")])],2)],1),a("br"),e._v(" 校验message："),a("a-input",{attrs:{value:e.rangeMsg,disabled:!e.minSign&&!e.maxSign},on:{change:e.onRangeMsg}}),a("br"),a("a-checkbox",{attrs:{checked:e.lenSign},on:{change:e.onLen}},[e._v(" 长度："+e._s(e.lenSign?e.len+"":"无")+" "),a("a-popover",{attrs:{title:"长度"}},[a("template",{slot:"content"},[a("a-input-number",{attrs:{min:1},model:{value:e.len,callback:function(t){e.len=t},expression:"len"}})],1),a("a",{attrs:{href:"#"}},[e._v("（设置长度）")])],2)],1),a("br"),e._v(" 校验message："),a("a-input",{attrs:{value:e.lenMsg,disabled:!e.lenSign},on:{change:e.onLenMsg}}),a("br"),e.patterns.length?a("a-form-item",{attrs:{label:"选择自定义校验"}},e._l(e.cusPatterns,function(t,r){return a("a-checkbox",{key:t.name,attrs:{checked:t.checked},on:{change:function(t){return e.onChangePattern(t,r)}}},[a("a-tooltip",[a("template",{slot:"title"},[a("span",[e._v(e._s(t.desc))])]),e._v(" "+e._s(t.name)+" ")],2)],1)}),1):e._e(),a("add-pattern-rule")],1)}),H=(a("7ae7"),a("1a8c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!0}}},[e._v("添加其他验证规则")]),a("a-modal",{attrs:{title:"添加验证规则",visible:e.visible},on:{ok:e.addRules,cancel:function(t){e.visible=!1}}},[a("a-form",{attrs:{form:e.form,labelCol:{span:6},wrapperCol:{span:14}}},[a("a-alert",{staticStyle:{"font-size":"10px"},attrs:{message:"为你自定义的校验规则添加一个名字，请尽量使用英文。",type:"info",showIcon:""}}),a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"此项为必填项!"}]}],expression:"['name', { rules: [{ required: true, message: '此项为必填项!' }] }]"}]})],1),a("a-alert",{staticStyle:{"font-size":"10px"},attrs:{message:"添加此校验规则的表单项将会匹配此正则。",type:"info",showIcon:""}}),a("a-form-item",{attrs:{label:"正则"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["regexp",{rules:[{type:"regexp",required:!0,message:"此项为正则!"}]}],expression:"['regexp', { rules: [{ type: 'regexp', required: true, message: '此项为正则!' }] }]"}]})],1),a("a-form-item",{attrs:{label:"是否区分大小写"}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["matchCase",{valuePropName:"checked",initialValue:!1}],expression:"['matchCase', { valuePropName: 'checked', initialValue: false }]"}]})],1),a("a-alert",{staticStyle:{"font-size":"10px"},attrs:{message:"匹配不成功时的提示信息。",type:"info",showIcon:""}}),a("a-form-item",{attrs:{label:"校验message"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["message",{rules:[{required:!0,message:"此项为必填项!"}]}],expression:"['message', { rules: [{ required: true, message: '此项为必填项!' }] }]"}]})],1),a("a-alert",{staticStyle:{"font-size":"10px"},attrs:{message:"为你的自定义校验规则添加说明。",type:"info",showIcon:""}}),a("a-form-item",{attrs:{label:"描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["desc"],expression:"['desc']"}]})],1)],1)],1)],1)}),G=a("820f").a;var J={name:"RuleSetting",components:{AddPatternRule:Object(i.a)(G,H,[],!1,null,"f87213a0",null).exports},data:function(){return Object(O.a)({},{required:!1,minSign:!1,min:0,maxSign:!1,max:10,lenSign:!1,len:10,requiredMsg:"",rangeMsg:"",lenMsg:""},{visible:!1,activeArr:[],cusPatterns:[]})},computed:Object(O.a)({},Object(k.c)({formData:function(e){return e.formDesigner.formData},activeKey:function(e){return e.formDesigner.activeKey},patterns:function(e){return e.formDesigner.patterns}})),watch:{min:function(){this.$nextTick(this.updateRangeMsg)},max:function(){this.$nextTick(this.updateRangeMsg)},len:function(){this.$nextTick(this.updateLenMsg)},activeKey:function(e){this.changeFormItem(e),this.updateRules()}},created:function(){this.changeFormItem(this.activeKey),this.updateRules()},methods:Object(O.a)({changeFormItem:function(e){var t={required:!1,minSign:!1,min:0,maxSign:!1,max:10,lenSign:!1,len:10,requiredMsg:"",rangeMsg:"",lenMsg:""},a=v(this.formData,e),r=[];1===a.length&&(r=this.formData[a[0]].attr.rules),3===a.length&&(r=this.formData[a[0]].columns[a[1]].children[a[2]].attr.rules);for(var n=0;n<r.length;n++){var i=Object.keys(r[n]);i.includes("min")&&i.includes("max")?(t.maxSign=!0,t.minSign=!0,t.min=r[n].min,t.max=r[n].max,t.rangeMsg=r[n].message):i.includes("min")?(t.minSign=!0,t.min=r[n].min,t.rangeMsg=r[n].message):i.includes("max")?(t.maxSign=!0,t.max=r[n].min,t.rangeMsg=r[n].message):i.includes("required")&&r[n].required?(t.required=!0,t.requiredMsg=r[n].message):i.includes("len")&&(t.lenSign=!0,t.len=r[n].len,t.lenMsg=r[n].message)}for(var o=Object.keys(t),s=0;s<o.length;s++)this[o[s]]=t[o[s]];this.activeArr=a},onRequired:function(e){var t=e.target.checked;this.required=t,this.requiredMsg=t?"此项为必填项":"",this.$nextTick(this.transformRulesData)},onMin:function(e){var t=e.target.checked;this.minSign=!!t,this.$nextTick(this.updateRangeMsg)},onMax:function(e){e.target.checked?this.maxSign=!0:this.maxSign=!1,this.$nextTick(this.updateRangeMsg)},updateRangeMsg:function(){this.minSign&&this.maxSign?this.rangeMsg="取值范围必须在".concat(this.min,"-").concat(this.max,"之间"):this.minSign?this.rangeMsg="取值需大于".concat(this.min):this.maxSign?this.rangeMsg="取值需小于".concat(this.max):this.rangeMsg="",this.$nextTick(this.transformRulesData)},onLen:function(e){var t=e.target.checked;this.lenSign=!!t,this.$nextTick(this.updateLenMsg)},updateLenMsg:function(){this.lenSign?this.lenMsg="长度需等于".concat(this.len):this.lenMsg="",this.$nextTick(this.transformRulesData)},onRequiredMsg:function(e){this.requiredMsg=e.target.value,this.$nextTick(this.transformRulesData)},onRangeMsg:function(e){this.rangeMsg=e.target.value,this.$nextTick(this.transformRulesData)},onLenMsg:function(e){this.lenMsg=e.target.value,this.$nextTick(this.transformRulesData)},transformRulesData:function(){var e=[];this.required&&e.push({required:!0,message:this.requiredMsg}),this.minSign&&this.maxSign?e.push({min:this.min,max:this.max,message:this.rangeMsg}):this.minSign?e.push({min:this.min,message:this.rangeMsg}):this.maxSign&&e.push({max:this.max,message:this.rangeMsg}),this.lenSign&&e.push({len:this.len,message:this.lenMsg});var t=this.setRules(e);this.updateFormData(t)},getRules:function(){var e=Object(f.a)(this.formData),t=this.activeArr;return 1===this.activeArr.length?e[t[0]].attr.rules:3===this.activeArr.length?e[t[0]].columns[t[1]].children[t[2]].attr.rules:[]},setRules:function(e){var t=Object(f.a)(this.formData),a=this.activeArr;return 1===a.length&&(t[a[0]].attr.rules=e),3===a.length&&(t[a[0]].columns[a[1]].children[a[2]].attr.rules=e),t},onChangePattern:function(e,t){var a=this.patterns[t],r=this.getRules(),n=this.patternIndexInRules(r,a);e.target.checked?r.push({pattern:a.name}):r.splice(n,1);var i=this.setRules(r);this.updateFormData(i),this.updateRules()},patternIndexInRules:function(e,t){return e.forEach(function(e,a){if(e.pattern&&e.pattern===t.name)return a}),-1},updateRules:function(){var e=this.getRules(),t=this.patterns.map(function(t){return t.checked=!1,e.forEach(function(e){e.pattern&&t.name===e.pattern&&(t.checked=!0)}),t});this.cusPatterns=t}},Object(k.b)({updateFormData:"setFormData"}))},Z=Object(i.a)(J,W,[],!1,null,"62657b51",null).exports,Q={name:"OptionSetting",data:function(){return{visible:!1,activeType:"",activeArr:[],valueType:0,columns:[{title:"Label",dataIndex:"label",scopedSlots:{customRender:"label"}},{title:"Value",dataIndex:"value",scopedSlots:{customRender:"value"}},{title:"删除",dataIndex:"action",scopedSlots:{customRender:"action"}}],options:[]}},computed:Object(O.a)({},Object(k.c)({formData:function(e){return e.formDesigner.formData},activeKey:function(e){return e.formDesigner.activeKey}})),created:function(){var e=v(this.formData,this.activeKey),t=[];1===e.length&&(t=this.formData[e[0]].attr.options),3===e.length&&(t=this.formData[e[0]].columns[e[1]].children[e[2]].attr.options),"number"==typeof t[0].value?this.valueType=0:this.valueType=1,this.options=this.transformOptions(t),this.activeArr=e},methods:Object(O.a)({onValueType:function(e){this.valueType=e},addOptions:function(){var e=Object(f.a)(this.options);e.push({label:"",value:"",key:this.options.length+"-"+Object(f.b)()}),this.options=e},delOptions:function(e){var t=this.findIndexWithKey(e.key),a=Object(f.a)(this.options);a.splice(t,1),this.options=a},disableOptions:function(e){var t=this.findIndexWithKey(e.key),a=Object(f.a)(this.options);a[t].disabled=!0,this.options=a},enableOptions:function(e){var t=this.findIndexWithKey(e.key),a=Object(f.a)(this.options);delete a[t].disabled,this.options=a},changeLabel:function(e,t){var a=this.findIndexWithKey(t.key);this.options=this.updateOptions("label",e.target.value,a)},changeValue:function(e,t){var a=this.findIndexWithKey(t.key);this.options=this.updateOptions("value",e,a)},transformOptions:function(e){return Object(f.a)(e).map(function(e,t){return e.key||(e.key=t+"-"+Object(f.b)()),e})},findIndexWithKey:function(e){for(var t=-1,a=0;a<this.options.length;a++)if(this.options[a].key===e){t=a;break}return t},updateOptions:function(e,t,a){var r=Object(f.a)(this.options);return r[a][e]=t,r},settingOptions:function(e){for(var t=0;t<this.options.length;t++)for(var a=Object.keys(this.options[t]),r=0;r<a.length;r++)if(null===this.options[t][a[r]]||""===this.options[t][a[r]])return void this.$message.error("不能有值为空的选项！");var n=this.options,i=this.activeArr,o=Object(f.a)(this.formData);1===i.length&&(o[i[0]].attr.options=n),3===i.length&&(o[i[0]].columns[i[1]].children[i[2]].attr.options=n),this.updateFormData(o),this.visible=!1,this.$emit("update",this.activeKey)}},Object(k.b)({updateFormData:"setFormData"}))},X={name:"ControlAttr",components:{RuleSetting:Z,OptionSetting:Object(i.a)(Q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!0}}},[e._v("设置options")]),a("a-modal",{attrs:{title:"设置options",visible:e.visible},on:{ok:e.settingOptions,cancel:function(t){e.visible=!1}}},[a("div",[a("a-form",{attrs:{labelCol:{span:6},wrapperCol:{span:14}}},[a("a-form-item",{attrs:{label:"value类型"}},[a("a-select",{attrs:{value:e.valueType},on:{change:e.onValueType}},[a("a-select-option",{attrs:{value:0}},[e._v("Number")]),a("a-select-option",{attrs:{value:1}},[e._v("String")])],1)],1)],1),a("a-table",{attrs:{columns:e.columns,rowKey:function(e){return e.key},dataSource:e.options,pagination:!1},scopedSlots:e._u([{key:"label",fn:function(t,r){return[a("a-input",{staticStyle:{width:"120px"},attrs:{value:t},on:{change:function(t){e.changeLabel(t,r)}}})]}},{key:"value",fn:function(t,r){return[a("span",[0===e.valueType?[a("a-input-number",{staticStyle:{width:"120px"},attrs:{value:t},on:{change:function(t){e.changeValue(t,r)}}})]:[a("a-input",{staticStyle:{width:"120px"},attrs:{value:t},on:{change:function(t){e.changeValue(t.target.value,r)}}})]],2)]}},{key:"action",fn:function(t,r){return[a("a-popconfirm",{attrs:{title:"确定删除吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(t){return e.delOptions(r)}}},[a("a",{attrs:{href:"javascript:;"}},[e._v("删除")])]),a("a-divider",{attrs:{type:"vertical"}}),r.disabled?a("a-popconfirm",{attrs:{title:"确定启用吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(t){return e.enableOptions(r)}}},[a("a",{attrs:{href:"javascript:;"}},[e._v("启用")])]):a("a-popconfirm",{attrs:{title:"确定禁用吗？",okText:"确定",cancelText:"取消"},on:{confirm:function(t){return e.disableOptions(r)}}},[a("a",{attrs:{href:"javascript:;"}},[e._v("禁用")])])]}}])}),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("a-button",{attrs:{icon:"plus",type:"primary"},on:{click:e.addOptions}},[e._v("添加options")])],1)],1)])],1)},[],!1,null,"3387b65d",null).exports},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this,{onValuesChange:function(t,a){e.setAttr(a)}})},data:function(){return{activeType:"",activeArr:[],attrObj:{},attrArr:[],marks:{0:"0",1:"1",2:"2",3:"3",4:"4",6:"6",8:"8",12:"12"}}},computed:Object(k.c)({formData:function(e){return e.formDesigner.formData},activeKey:function(e){return e.formDesigner.activeKey}}),watch:{activeKey:function(e){this.updateDataByKey(e)}},created:function(){this.updateDataByKey(this.activeKey)},methods:Object(O.a)({updateDataByKey:function(e){var t=this;this.activeType=e.split("-")[0];var a=v(this.formData,e),r={};1===a.length&&(r=this.formData[a[0]].attr),3===a.length&&(r=this.formData[a[0]].columns[a[1]].children[a[2]].attr),this.activeArr=a,this.attrObj=r,this.attrArr=Object.keys(r),this.form=this.$form.createForm(this,{onValuesChange:function(e,a){t.setAttr(a)}}),this.$nextTick(function(){var e=Object(f.a)(r);delete e.options,delete e.rules,this.form.setFieldsValue(e)})},setAttr:function(e){var t=Object(f.a)(this.formData),a=Object.keys(e)[0];if(1===this.activeArr.length&&(t[this.activeArr[0]].attr[a]=e[a],"count"===a)){var r=t[this.activeArr[0]].columns;if(r.length>e[a]){for(var n=r.slice(e[a]),i=!0,o=0;o<n.lengh;o++)if(n[o].children.length){this.$confirm({title:"此操作将会删除已存在的表单项，确定要删除么？",onOk:function(){i=!0},onCancel:function(){i=!1}});break}if(!i)return;r.splice(e[a],r.length-e[a]);for(var s=24/e[a],l=0;l<r.length;l++)r[l].span=s;t[this.activeArr[0]].columns=r}else{for(var c=24/e[a],u=0;u<r.length;u++)r[u].span=c;for(var d=e[a]-r.length,p=0;p<d;p++)r.push({span:c,children:[]});t[this.activeArr[0]].columns=r}}3===this.activeArr.length&&(t[this.activeArr[0]].columns[this.activeArr[1]].children[this.activeArr[2]].attr[a]=e[a]),this.updateFormData(t)},checkAttrType:function(e){return("id"!==e||"grid"!==this.activeType)&&!!this.attrArr.includes(e)}},Object(k.b)({updateFormData:"setFormData"}))},Y={name:"FormAttr"},ee={name:"ControlSetting",components:{ControlAttr:Object(i.a)(X,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[""!==e.activeKey?a("a-form",{attrs:{form:e.form,layout:"horizontal"}},[e.checkAttrType("id")?a("a-form-item",{attrs:{label:"表单id(提交表单时表单项的key值)"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}]})],1):e._e(),e.checkAttrType("label")?a("a-form-item",{attrs:{label:"表单标签名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["label"],expression:"['label']"}]})],1):e._e(),e.checkAttrType("placeholder")?a("a-form-item",{attrs:{label:"placeholder"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["placeholder"],expression:"['placeholder']"}]})],1):e._e(),e.checkAttrType("initialValue")?["input"===e.activeType||"inputNumber"===e.activeType?a("a-form-item",{attrs:{label:"默认值"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["initialValue"],expression:"['initialValue']"}]})],1):"checkbox"===e.activeType?a("a-form-item",{attrs:{label:"默认值"}},[a("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["initialValue"],expression:"['initialValue']"}],attrs:{options:e.attrObj.options}})],1):a("a-form-item",{attrs:{label:"默认值"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["initialValue"],expression:"['initialValue']"}],attrs:{options:e.attrObj.options}})],1)]:e._e(),"radio"===e.activeType||"checkbox"===e.activeType||"select"===e.activeType?a("option-setting",{key:e.activeKey,on:{update:e.updateDataByKey}}):e._e(),e.checkAttrType("layout")?a("a-form-item",{attrs:{label:"label宽度"}},[a("a-slider",{directives:[{name:"decorator",rawName:"v-decorator",value:["layout"],expression:"['layout']"}],attrs:{max:12,marks:e.marks,step:null}})],1):e._e(),e.checkAttrType("count")?a("a-form-item",{attrs:{label:"栅格数"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["count"],expression:"['count']"}],attrs:{options:e.attrObj.options}})],1):e._e(),e.checkAttrType("rules")?a("rule-setting"):e._e()],2):a("div",[e._v(" 请选择一个表单项 ")])],1)},[],!1,null,"528798a8",null).exports,FormAttr:Object(i.a)(Y,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v(" 表单配置 ")])},[],!1,null,"bc862f06",null).exports},methods:{callback:function(e){}}},te=Object(i.a)(ee,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-tabs",{attrs:{defaultActiveKey:"1"},on:{change:e.callback}},[a("a-tab-pane",{key:"1",attrs:{tab:"组件属性配置"}},[a("control-attr")],1),a("a-tab-pane",{key:"2",attrs:{tab:"表单配置",forceRender:""}},[a("form-attr")],1)],1)],1)},[],!1,null,"5add19db",null).exports,ae={name:"HFormContent",components:{Multipane:s.a,MultipaneResizer:s.b,ControlList:_,ControlView:U,ControlSetting:te}},re={name:"FormDesigner",components:{HFormHeader:o,HFormContent:(a("d9a9"),Object(i.a)(ae,function(){var e=this.$createElement,t=this._self._c||e;return t("multipane",{staticClass:"custom-resizer",attrs:{layout:"vertical"}},[t("div",{staticClass:"pane controls-list"},[t("control-list")],1),t("multipane-resizer"),t("div",{staticClass:"pane form-view"},[t("control-view")],1),t("multipane-resizer"),t("div",{staticClass:"pane",style:{flexGrow:1}},[t("control-setting")],1)],1)},[],!1,null,"0291c262",null)).exports}},ne=Object(i.a)(re,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%"}},[t("h-form-header"),t("h-form-content")],1)},[],!1,null,"1b04ef62",null).exports,ie={name:"form-index",components:{FormDesigner:ne},data:function(){return{}},methods:{}},oe=(a("1ef9"),Object(i.a)(ie,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{padding:"20px","background-color":"#fff"}},[t("form-designer")],1)},[],!1,null,"48a012af",null)).exports,se=(a("3a20"),a("1bee")),le={name:"form-index",components:{FormDesigner:ne},data:function(){return{}},methods:{}},ce=(a("b19a"),Object(i.a)(le,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{padding:"20px","background-color":"#fff"}},[t("form-designer")],1)},[],!1,null,"2b263e31",null)).exports;r.a.use(se.a);var ue=[{path:"/",name:"Home",component:ce},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],de=new se.a({mode:"history",base:"",routes:ue}),fe={state:{formData:[],activeKey:"",patterns:[{desc:"666",message:"大写",name:"upper",regexp:/^[A-Z]+$/}],renderData:[]},mutations:{setFormData:function(e,t){e.formData=t},setActiveKey:function(e,t){e.activeKey=t},setPatterns:function(e,t){e.patterns=t},setRenderData:function(e,t){e.renderData=t}}};r.a.use(k.a);var pe=new k.a.Store({state:{},modules:{formDesigner:fe},mutations:{},actions:{},getters:{}}),me=(a("911e"),a("f2ca")),be=(a("f425"),a("e678")),he=(a("02a3"),a("204a")),ve=(a("efbd"),a("9c11")),ge=(a("9fa5"),a("d264")),ye=(a("d84f"),a("de18")),je=(a("0a06"),a("6886")),_e=(a("693a"),a("d7ae")),Oe=(a("2618"),a("708b")),xe=(a("3670"),a("5baf")),ke=(a("f2d0"),a("864d")),De=(a("bfb5"),a("35ce")),we=(a("bf0b"),a("38d7")),Ce=(a("9783"),a("3b05")),Se=(a("0962"),a("48f0")),Ee=(a("1787"),a("54f0")),Me=(a("e48e"),a("8e89")),Ae=(a("292d"),a("3309")),qe=(a("58f8"),a("634a")),Re=(a("8f74"),a("ea49")),$e=(a("94bb"),a("39d5")),Ke=(a("9cfc"),a("c012")),Ve=(a("70d1"),a("7e14")),Te=(a("b2d7"),a("e3b4")),Fe=(a("c1f4"),a("cc9a")),Pe=(a("cd7f"),a("7007")),Ie=(a("598a"),a("e368")),Ne=(a("ad9b"),a("1fd7")),ze=(a("36f5"),a("7c81")),Be=(a("2a7d"),a("0fb6")),Le=(a("fdaf"),a("bac2")),Ue=(a("a325"),a("86b0")),We=(a("c3f5"),a("51a2")),He=(a("2767"),a("7234")),Ge=(a("adf5"),a("70bd")),Je=(a("01bf"),a("3d2a")),Ze=(a("2803"),a("400c")),Qe=(a("ebe4"),a("3229")),Xe=(a("c23a"),a("df89")),Ye=(a("e556"),a("5711")),et=(a("2a692"),a("4efa")),tt=(a("7cb7"),a("aca5")),at=(a("5fb8"),a("e54c")),rt=(a("88ed"),a("4b06")),nt=(a("c150"),a("9794")),it=(a("d56d"),a("83ec")),ot=(a("43b6"),a("7312")),st=(a("ffbd"),a("69c4")),lt=(a("a7af"),a("7099")),ct=(a("6096"),a("c74f")),ut=(a("77f5"),a("7f25")),dt=(a("45d4"),a("89d3")),ft=(a("3b4e"),a("09e3")),pt=(a("a561"),a("919d")),mt=(a("8afc"),a("2003")),bt=(a("831d"),a("a6dc"));bt.a.config({maxCount:1}),r.a.prototype.$message=bt.a,r.a.prototype.$notification=mt.a,r.a.prototype.$info=pt.a.info,r.a.prototype.$success=pt.a.success,r.a.prototype.$error=pt.a.error,r.a.prototype.$warning=pt.a.warning,r.a.prototype.$confirm=pt.a.confirm,r.a.use(ft.a),r.a.use(dt.a),r.a.use(ut.a),r.a.use(ct.a),r.a.use(lt.a),r.a.use(st.a),r.a.use(ot.a),r.a.use(it.a),r.a.use(nt.a),r.a.use(rt.a),r.a.use(at.a),r.a.use(tt.a),r.a.use(et.a),r.a.use(Ye.a),r.a.use(Xe.a),r.a.use(Qe.a),r.a.use(Ze.a),r.a.use(Je.a),r.a.use(Ge.a),r.a.use(He.a),r.a.use(We.a),r.a.use(Ue.a),r.a.use(Le.a),r.a.use(Be.a),r.a.use(ze.a),r.a.use(Ne.b),r.a.use(Ie.a),r.a.use(Pe.a),r.a.use(pt.a),r.a.use(Fe.a),r.a.use(Te.a),r.a.use(Ve.a),r.a.use(Ke.a),r.a.use($e.a),r.a.use(Re.a),r.a.use(qe.a),r.a.use(Ae.d),r.a.use(Me.a),r.a.use(Ee.a),r.a.use(Se.a),r.a.use(Ce.a),r.a.use(we.a),r.a.use(De.a),r.a.use(ke.a),r.a.use(xe.a),r.a.use(Oe.a),r.a.use(_e.a),r.a.use(je.a),r.a.use(ye.a),r.a.use(ge.a),r.a.use(ve.a),r.a.use(he.a),r.a.use(be.a),r.a.use(me.b),r.a.config.productionTip=!1,new r.a({router:de,store:pe,render:function(e){return e(oe)}}).$mount("#app")},"57b6":function(e,t,a){},"74f9":function(e,t,a){},"77d2":function(e,t,a){var r={"./af":"fbac","./af.js":"fbac","./ar":"f96f","./ar-dz":"e63c","./ar-dz.js":"e63c","./ar-kw":"b7bd","./ar-kw.js":"b7bd","./ar-ly":"968f","./ar-ly.js":"968f","./ar-ma":"9f9d","./ar-ma.js":"9f9d","./ar-sa":"aea5","./ar-sa.js":"aea5","./ar-tn":"d44b","./ar-tn.js":"d44b","./ar.js":"f96f","./az":"c7ed","./az.js":"c7ed","./be":"5a28","./be.js":"5a28","./bg":"1251","./bg.js":"1251","./bm":"2809","./bm.js":"2809","./bn":"b4fc","./bn.js":"b4fc","./bo":"5484","./bo.js":"5484","./br":"5adc","./br.js":"5adc","./bs":"ac10","./bs.js":"ac10","./ca":"e381","./ca.js":"e381","./cs":"aef2","./cs.js":"aef2","./cv":"6566","./cv.js":"6566","./cy":"1390","./cy.js":"1390","./da":"1ece","./da.js":"1ece","./de":"5f10","./de-at":"09c4","./de-at.js":"09c4","./de-ch":"89a2","./de-ch.js":"89a2","./de.js":"5f10","./dv":"e662","./dv.js":"e662","./el":"196b","./el.js":"196b","./en-SG":"0a32","./en-SG.js":"0a32","./en-au":"94ed","./en-au.js":"94ed","./en-ca":"2806","./en-ca.js":"2806","./en-gb":"b0dd","./en-gb.js":"b0dd","./en-ie":"7a6e","./en-ie.js":"7a6e","./en-il":"1f0f","./en-il.js":"1f0f","./en-nz":"1606","./en-nz.js":"1606","./eo":"f214","./eo.js":"f214","./es":"7d58","./es-do":"737b","./es-do.js":"737b","./es-us":"a894","./es-us.js":"a894","./es.js":"7d58","./et":"a888","./et.js":"a888","./eu":"1357","./eu.js":"1357","./fa":"0a48","./fa.js":"0a48","./fi":"c2b1","./fi.js":"c2b1","./fo":"52c4","./fo.js":"52c4","./fr":"04e6","./fr-ca":"6ad1","./fr-ca.js":"6ad1","./fr-ch":"b12f","./fr-ch.js":"b12f","./fr.js":"04e6","./fy":"ad13","./fy.js":"ad13","./ga":"369e","./ga.js":"369e","./gd":"22de","./gd.js":"22de","./gl":"f808","./gl.js":"f808","./gom-latn":"50d5","./gom-latn.js":"50d5","./gu":"e67a","./gu.js":"e67a","./he":"037c","./he.js":"037c","./hi":"3d53","./hi.js":"3d53","./hr":"678b","./hr.js":"678b","./hu":"1783","./hu.js":"1783","./hy-am":"2873","./hy-am.js":"2873","./id":"de99","./id.js":"de99","./is":"6aa2","./is.js":"6aa2","./it":"1f93","./it-ch":"2db9","./it-ch.js":"2db9","./it.js":"1f93","./ja":"6bf8","./ja.js":"6bf8","./jv":"6e55","./jv.js":"6e55","./ka":"e65f","./ka.js":"e65f","./kk":"7167","./kk.js":"7167","./km":"4668","./km.js":"4668","./kn":"e3d2","./kn.js":"e3d2","./ko":"b058","./ko.js":"b058","./ku":"017e","./ku.js":"017e","./ky":"b2bd","./ky.js":"b2bd","./lb":"e50c","./lb.js":"e50c","./lo":"ca14","./lo.js":"ca14","./lt":"3e84","./lt.js":"3e84","./lv":"ce1d","./lv.js":"ce1d","./me":"9d38","./me.js":"9d38","./mi":"3e2e","./mi.js":"3e2e","./mk":"d532","./mk.js":"d532","./ml":"db61","./ml.js":"db61","./mn":"7493","./mn.js":"7493","./mr":"52d8","./mr.js":"52d8","./ms":"b559","./ms-my":"7462","./ms-my.js":"7462","./ms.js":"b559","./mt":"c055","./mt.js":"c055","./my":"49e0","./my.js":"49e0","./nb":"eb1c","./nb.js":"eb1c","./ne":"0acb","./ne.js":"0acb","./nl":"7497","./nl-be":"3114","./nl-be.js":"3114","./nl.js":"7497","./nn":"9a9c","./nn.js":"9a9c","./pa-in":"c595","./pa-in.js":"c595","./pl":"801c","./pl.js":"801c","./pt":"5b08","./pt-br":"155f","./pt-br.js":"155f","./pt.js":"5b08","./ro":"05fc","./ro.js":"05fc","./ru":"90b3","./ru.js":"90b3","./sd":"99bf","./sd.js":"99bf","./se":"20d6","./se.js":"20d6","./si":"7c0b","./si.js":"7c0b","./sk":"90fc","./sk.js":"90fc","./sl":"871b","./sl.js":"871b","./sq":"b045","./sq.js":"b045","./sr":"ac81","./sr-cyrl":"a2d0","./sr-cyrl.js":"a2d0","./sr.js":"ac81","./ss":"b093","./ss.js":"b093","./sv":"12e5","./sv.js":"12e5","./sw":"38a0","./sw.js":"38a0","./ta":"a462","./ta.js":"a462","./te":"18cb","./te.js":"18cb","./tet":"0c11","./tet.js":"0c11","./tg":"d707","./tg.js":"d707","./th":"883f","./th.js":"883f","./tl-ph":"6cc0","./tl-ph.js":"6cc0","./tlh":"ab53","./tlh.js":"ab53","./tr":"e523","./tr.js":"e523","./tzl":"b192","./tzl.js":"b192","./tzm":"5604","./tzm-latn":"9f95","./tzm-latn.js":"9f95","./tzm.js":"5604","./ug-cn":"9f4f","./ug-cn.js":"9f4f","./uk":"8bd6","./uk.js":"8bd6","./ur":"9a78","./ur.js":"9a78","./uz":"4d4c","./uz-latn":"da73","./uz-latn.js":"da73","./uz.js":"4d4c","./vi":"b766","./vi.js":"b766","./x-pseudo":"2a69","./x-pseudo.js":"2a69","./yo":"fd2e","./yo.js":"fd2e","./zh-cn":"35d0","./zh-cn.js":"35d0","./zh-hk":"7b45","./zh-hk.js":"7b45","./zh-tw":"fa66","./zh-tw.js":"fa66"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="77d2"},"7da8":function(e,t,a){},"820f":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("c354"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__),E_mywork_vue_form_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2549"),vuex__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("8876"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ff23");__webpack_exports__.a={name:"AddPatternRule",data:function(){return{form:this.$form.createForm(this),visible:!1}},computed:Object(vuex__WEBPACK_IMPORTED_MODULE_2__.c)({patterns:function(e){return e.formDesigner.patterns}}),methods:Object(E_mywork_vue_form_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({addRules:function addRules(){var _this=this;this.form.validateFields(function(err,val){if(!err){var pattern={name:val.name,regexp:eval(val.regexp),message:val.message,desc:val.desc||"无描述"},patterns=Object(_utils__WEBPACK_IMPORTED_MODULE_3__.a)(_this.patterns);patterns.push(pattern),_this.updatePatterns(patterns),_this.visible=!1}})}},Object(vuex__WEBPACK_IMPORTED_MODULE_2__.b)({updatePatterns:"setPatterns"}))}},"9de8":function(e,t,a){"use strict";var r=a("5249");a.n(r).a},a270:function(e,t,a){},a483:function(e,t,a){},a4ce:function(e,t,a){},acb1:function(e,t,a){"use strict";var r=a("f7f4");a.n(r).a},b19a:function(e,t,a){"use strict";var r=a("57b6");a.n(r).a},b76a:function(e,t,a){"use strict";var r=(a("79dd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",["input"===e.field.type?[a("input-com",{attrs:{field:e.field}})]:e._e(),"inputNumber"===e.field.type?[a("input-number-com",{attrs:{field:e.field}})]:e._e(),"radio"===e.field.type?[a("radio-com",{attrs:{field:e.field}})]:e._e(),"checkbox"===e.field.type?[a("checkbox-com",{attrs:{field:e.field}})]:e._e(),"select"===e.field.type?[a("select-com",{attrs:{field:e.field}})]:e._e()],2)}),n={name:"InputCom",props:{field:{type:Object,required:!0}},created:function(){}},i=a("623f"),o=Object(i.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.field.label,"has-feedback":e.field.validateOption.icon,"validate-status":e.field.validateOption.status,help:e.field.validateOption.message,"label-col":e.field.layout.labelCol,"wrapper-col":e.field.layout.wrapperCol,required:!!e.field.rules&&e.field.rules.length>0}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field.id,{initialValue:e.field.initialValue}],expression:"[field.id, {\n      initialValue: field.initialValue\n    }]"}],attrs:{disabled:e.field.disabled,placeholder:e.field.placeholder}})],1)},[],!1,null,"1228817b",null).exports,s={name:"RadioCom",props:{field:{type:Object,require:!0}},data:function(){return{options:[]}},created:function(){this.options=this.field.options}},l=Object(i.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.field.label,"has-feedback":e.field.validateOption.icon,"validate-status":e.field.validateOption.status,help:e.field.validateOption.message,"label-col":e.field.layout.labelCol,"wrapper-col":e.field.layout.wrapperCol,required:!!e.field.rules&&e.field.rules.length>0}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field.id,{initialValue:e.field.initialValue}],expression:"[field.id, {\n      initialValue: field.initialValue\n    }]"}],attrs:{options:e.options}})],1)},[],!1,null,"80686e32",null).exports,c={name:"CheckboxCom",props:{field:{type:Object,require:!0}},data:function(){return{options:[]}},created:function(){this.options=this.field.options}},u=Object(i.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.field.label,"has-feedback":e.field.validateOption.icon,"validate-status":e.field.validateOption.status,help:e.field.validateOption.message,"label-col":e.field.layout.labelCol,"wrapper-col":e.field.layout.wrapperCol,required:!!e.field.rules&&e.field.rules.length>0}},[a("a-checkbox-group",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field.id,{initialValue:e.field.initialValue}],expression:"[field.id, {\n      initialValue: field.initialValue\n    }]"}],attrs:{options:e.options}})],1)},[],!1,null,"7b9967ae",null).exports,d={name:"SelectCom",props:{field:{type:Object,require:!0}},data:function(){return{options:[]}},created:function(){this.options=this.field.options}},f=Object(i.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.field.label,"has-feedback":e.field.validateOption.icon,"validate-status":e.field.validateOption.status,help:e.field.validateOption.message,"label-col":e.field.layout.labelCol,"wrapper-col":e.field.layout.wrapperCol,required:!!e.field.rules&&e.field.rules.length>0}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field.id,{initialValue:e.field.initialValue}],expression:"[field.id, {\n      initialValue: field.initialValue\n    }]"}],attrs:{placeholder:e.field.placeholder,options:e.options}})],1)},[],!1,null,"a13b9bc2",null).exports,p={name:"InputNumberCom",props:{field:{type:Object,required:!0}},created:function(){}},m={name:"FieldCom",components:{InputCom:o,RadioCom:l,CheckboxCom:u,SelectCom:f,InputNumberCom:Object(i.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{label:e.field.label,"has-feedback":e.field.validateOption.icon,"validate-status":e.field.validateOption.status,help:e.field.validateOption.message,"label-col":e.field.layout.labelCol,"wrapper-col":e.field.layout.wrapperCol,required:!!e.field.rules&&e.field.rules.length>0}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field.id,{initialValue:e.field.initialValue}],expression:"[field.id, {\n      initialValue: field.initialValue\n    }]"}],attrs:{disabled:e.field.disabled,placeholder:e.field.placeholder,min:e.field.exclusive.min,max:e.field.exclusive.max}})],1)},[],!1,null,"3a2b9911",null).exports},props:{field:{type:Object,required:!0}},watch:{field:{handler:function(e,t){},deep:!0}},created:function(){this.options=this.field.options}},b=Object(i.a)(m,r,[],!1,null,"0194eb9d",null).exports,h={name:"divideCom",props:{title:{type:String,default:""}}},v=Object(i.a)(h,function(){var e=this,t=e.$createElement;return(e._self._c||t)("a-divider",{attrs:{orientation:"left"}},[e._v(e._s(e.title))])},[],!1,null,"8b53d8c6",null).exports,g={name:"FooterCom",props:{data:{type:Object,required:!0}},computed:{buttons:function(){return this.data.buttons}},methods:{clickBtn:function(e){this.$emit("click-btn",e,this.buttons[e].ifValidateForm)}}},y=Object(i.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{"label-col":e.data.layout.labelCol,"wrapper-col":e.data.layout.wrapperCol}},e._l(e.buttons,function(t,r){return a("a-button",{key:t.text,style:{marginRight:"15px"},attrs:{disabled:t.disabled,type:t.type,size:t.size},on:{click:function(){e.clickBtn(r)}}},[e._v(e._s(t.text))])}),1)},[],!1,null,"2f188d9c",null).exports,j=(a("af82"),a("a677"),a("1a8c"),a("4423"),a("ce6b"),a("3547"),a("9a14"),a("54d0")),_=a("ac9f"),O=a("2549"),x=a("0d94"),k=a("2b42");function D(e){var t=Object.prototype.toString.call(e);return e instanceof Element?"element":{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[t]}function w(e){var t,a=D(e);switch(a){case"array":return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,n=Object.entries(e);r<n.length;r++){var i=Object(x.a)(n[r],2),o=i[0],s=i[1];a[o]=w(s)}return a}(e,a,t);case"object":return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,n=Object.entries(e);r<n.length;r++){var i=Object(x.a)(n[r],2),o=i[0],s=i[1];"function"===D(s)?a[o]=e[o]:a[o]=w(s)}return a}(e,a,t);default:return e}}a("3a20"),a("7267");var C={required:"此项为必选项！",range:"此项需大于{min}小于{max}",len:"此项长度为{len}",whitespace:"不能是空格"},S={lowercase:{regexp:/^[a-z]+$/,message:"填入内容非小写字母！"}},E={icon:!0},M={input:{value:"",type:"string",placeholder:"请填入"},inputNumber:{value:0,type:"number",placeholder:"请填入"},radio:{value:void 0,type:"any"},checkbox:{value:[],type:"array"},select:{value:void 0,type:"any",placeholder:"请选择"}};function A(e,t){return function(e,t){var a=w(e);if(!("formDesc"in a))throw new Error("formData must has a property: formDesc");var r=e.formDesc;if(r.errors=[],"rows"in r){for(var n=r.rows,i=0;i<n.length;i++)if(n[i].key=Math.random().toString(36).substr(2),"formItem"===n[i].type){var o=n[i].content,s=q(o);s=T(s=$(s=R(s)),t),n[i].content=s}r.rows=n,a.formDesc=r}return a}(e,t)}function q(e){for(var t=[],a=0,r=Object.entries(e);a<r.length;a++){var n=Object(x.a)(r[a],2),i=n[0],o=n[1],s=Object(O.a)({id:i},o);t.push(s)}return t}function R(e){return e.forEach(function(e){var t=function(e){var t=M[e];if(void 0===t)throw new Error("check if this type exist:".concat(e));return t}(e.type);t.placeholder&&void 0===e.placeholder&&(e.placeholder=t.placeholder),e.rules||(e.rules=[]),e.rules.length&&e.rules.forEach(function(e){e.type=t.type}),e.value=void 0===e.initialValue?t.value:e.initialValue,void 0===e.value&&(e.value=t.value),e.required&&(function(e){return e.some(function(e){return Object.keys(e).includes("required")})}(e.rules)||e.rules.push({type:t.type,required:e.required,message:C.required}),delete e.required)}),e}function $(e){for(var t=0;t<e.length;t++)e[t].validateOption={status:null,icon:E.icon,message:null};return e}function K(e,t){var a=e.formDesc;if(a.errors=[],a.rows&&a.rows.length){var r=a.rows;r.forEach(function(e){if("formItem"===e.type){var r=e.content;e.content=function(e,t,a){for(var r=0;r<e.length;r++)e[r].rules&&e[r].rules.length&&(a?e[r].id===a&&(e[r]=V(e[r],t)):e[r]=V(e[r],t));return e}(r,a,t)}}),a.rows=r}return e.formDesc=a,e}function V(e,t){var a=function(e){return"rules"in e?Object(_.a)({},e.id,e.rules):{}}(e);return new k.a(a).validate(Object(_.a)({},e.id,e.value),function(a,r){var n;a?(e.validateOption.status="error",e.validateOption.message=a[0].message,(n=t.errors).push.apply(n,Object(j.a)(a))):(e.validateOption.status="success",e.validateOption.message=null)}),e}function T(e,t){for(var a=function(e,t){return Object(O.a)({},e,{},t)}(S,t),r=0;r<e.length;r++)for(var n=0;n<e[r].rules.length;n++){var i=e[r].rules[n].pattern&&"string"==typeof e[r].rules[n].pattern?e[r].rules[n].pattern:null;if(i){var o=a[i];e[r].rules[n].pattern=o.regexp,e[r].rules[n].message=o.message}}return e}var F={name:"FormRender",components:{FieldCom:b,DivideCom:v,FooterCom:y},props:{metaData:{type:Object,required:!0},extendPattern:{type:Object}},data:function(){return{viewData:null}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this,{onValuesChange:function(t,a){var r=K(function(e,t){var a=w(t),r=a.formDesc;return r.rows=r.rows.map(function(t){if("formItem"===t.type){for(var a=t.content,r=0;r<a.length;r++)a[r].id===Object.keys(e)[0]&&(a[r].value=e[Object.keys(e)[0]]);t.content=a}return t}),a.formDesc=r,a}(a,e.viewData),Object.keys(a)[0]);e.viewData=r}})},computed:{rows:function(){return this.viewData.formDesc.rows},formDesc:function(){return this.viewData.formDesc}},created:function(){this.viewData=A(this.metaData,this.extendPattern)},methods:{clickBtn:function(e,t){var a;if(t){this.viewData=K(this.viewData);var r=this.viewData.formDesc.errors;a=r.length?r:null}else a=null;var n=this.form.getFieldsValue();this.$emit("click-btn",a,n,e)}}},P=Object(i.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{style:e.formDesc.ui.style,attrs:{form:e.form,layout:"horizontal"}},[e._l(e.rows,function(t){return a("a-row",{key:t.key,attrs:{gutter:e.formDesc.ui.gutter}},["group"===t.type?[a("a-col",{attrs:{span:24}},[a("divide-com",{attrs:{title:t.content}})],1)]:e._l(t.content,function(e){return a("a-col",{key:e.id,attrs:{span:e.grid.span,offset:e.grid.offset}},[a("field-com",{attrs:{field:e}})],1)})],2)}),a("footer-com",{attrs:{data:e.formDesc.footer},on:{"click-btn":e.clickBtn}})],2)},[],!1,null,"21bd7814",null);t.a=P.exports},d3ea:function(e,t,a){"use strict";var r=a("7da8");a.n(r).a},d9a9:function(e,t,a){"use strict";var r=a("a270");a.n(r).a},f7f4:function(e,t,a){},ff1b:function(e,t,a){},ff23:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o}),a("ce6b"),a("3a20"),a("7267");var r=a("0d94");function n(e){var t=Object.prototype.toString.call(e);return e instanceof Element?"element":{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[t]}function i(e){var t,a=n(e);switch(a){case"array":return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,o=Object.entries(e);n<o.length;n++){var s=Object(r.a)(o[n],2),l=s[0],c=s[1];a[l]=i(c)}return a}(e,a,t);case"object":return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=0,s=Object.entries(e);o<s.length;o++){var l=Object(r.a)(s[o],2),c=l[0],u=l[1];"function"===n(u)?a[c]=e[c]:a[c]=i(u)}return a}(e,a,t);default:return e}}function o(){return Math.random().toString(36).substr(2)}}});